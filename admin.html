<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Creme Theory | Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-stone-100 p-8">
    <div class="max-w-xl mx-auto bg-white p-8 rounded-2xl shadow-xl">
        <h1 class="text-3xl font-bold text-amber-900 mb-6">Inventory Manager</h1>
        <p class="mb-6 text-sm text-stone-500 italic">Toggle items below, then click "Copy Code" and paste it into your inventory.js file.</p>
        
        <div id="admin-list" class="space-y-4 mb-8">
            </div>

        <div class="border-t pt-6">
            <h2 class="text-sm font-bold uppercase tracking-widest mb-4">Generated Code</h2>
            <textarea id="output-code" readonly class="w-full h-40 p-4 bg-stone-900 text-green-400 text-xs font-mono rounded-md mb-4"></textarea>
            <button onclick="copyCode()" class="w-full bg-amber-900 text-white font-bold py-3 rounded-lg hover:bg-amber-800 transition">
                Copy Code to Clipboard
            </button>
        </div>
    </div>

    <script src="inventory.js"></script>
    <script>
        const inventory = window.CremeInventory;
        const listContainer = document.getElementById('admin-list');
        const output = document.getElementById('output-code');

        function render() {
            listContainer.innerHTML = '';
            for (const [name, data] of Object.entries(inventory)) {
                const row = document.createElement('div');
                row.className = "flex justify-between items-center p-4 bg-stone-50 rounded-lg border border-stone-200";
                row.innerHTML = `
                    <span class="font-medium ${!data.inStock ? 'text-stone-400' : 'text-stone-800'}">${name}</span>
                    <button onclick="toggle('${name}')" class="px-4 py-2 rounded-full text-xs font-bold transition ${data.inStock ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
                        ${data.inStock ? 'IN STOCK' : 'SOLD OUT'}
                    </button>
                `;
                listContainer.appendChild(row);
            }
            generateCode();
        }

        function toggle(name) {
            inventory[name].inStock = !inventory[name].inStock;
            render();
        }

        function generateCode() {
            const code = `const InventoryData = ${JSON.stringify(inventory, null, 4)};\n\nwindow.CremeInventory = InventoryData;`;
            output.value = code;
        }

        function copyCode() {
            output.select();
            document.execCommand('copy');
            alert("Code copied! Now open inventory.js, delete everything, and paste this in.");
        }

        window.onload = render;
    </script>
</body>
</html>
